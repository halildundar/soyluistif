/*! For license information please see server.js.LICENSE.txt */
(()=>{var t=require("dotenv"),r=require("express"),M=require("express-handlebars");let c=require("node:fs");var C=require("multer");let p=require("fs");var D=r.Router({mergeParams:!0}),L=C.diskStorage({destination:function(t,r,n){t=t.body.dest_path,t=process.cwd()+"/public"+t;(0,p.existsSync)(t)||(0,p.mkdirSync)(t,{recursive:!0}),n(null,t)},filename:function(t,r,n){n(null,t.body.filename+"."+r.originalname.split(".").pop())}}),C=C({storage:L});let Q=require("mysql");function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(r,t){var n,e=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)),e}function J(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){W(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function W(t,r,n){return(r=(t=>(t=((t,r)=>{if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);if("object"!=q(n=n.call(t,r||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==q(t)?t:t+""))(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}(0,t.config)({path:["const.env"]});var Y=W(W(W({connectionLimit:5,host:process.env.MYSQL_DB_HOST,user:process.env.MYSQL_DB_USERNAME1,password:process.env.MYSQL_DB_PASSWORD1,database:process.env.MYSQL_DB_NAME},"connectionLimit",20),"idleTimeoutMillis",3e4),"connectionTimeoutMillis",2e3),y=new function(t,r,n){var t=J(J({},Y),{},{database:t,user:r,password:n}),u=Q.createPool(t);return{Connection:function(){return new Promise(function(t,r){u.getConnection(function(n,o){n&&r(n),console.log("MySQL pool connected: threadId "+o.threadId);t({query:function(t,r){return new Promise(function(n,e){o.query(t,r,function(t,r){t&&e(t),n(r)})})},release:function(){return new Promise(function(t,r){n&&r(n),console.log("MySQL pool released: threadId "+o.threadId),t(o.release())})}})})})},Query:function(t,r){return new Promise(function(e,o){u.query(t,r,function(t,r,n){t&&o(t),e(r)})})}}}(Y.database,Y.user,Y.password);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){return(t=>{if(Array.isArray(t))return z(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||((t,r)=>{var n;if(t)return"string"==typeof t?z(t,r):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,r):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function z(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function B(r,t){var n,e=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)),e}function $(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?B(Object(o),!0).forEach(function(t){var r,n;r=e,n=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);if("object"!=u(n=n.call(t,r||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==u(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):B(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function s(){var o=rt(),t=o.m(s),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,U(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(s=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new nt(t,r)},AsyncIterator:tt,async:function(t,r,n,e,o){return(u(r)?Z:V)(i(t),r,n,e,o)},keys:X,values:U}})()}function U(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(u(t)+" is not iterable")}function X(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function V(t,r,n,e,o){var u=Z(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function Z(t,r,n,e,o){return new tt(rt().w(t,r,n,e),o||Promise)}function tt(a,c){var o;this.next||(d(tt.prototype),d(tt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),d(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof nt?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function rt(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return d(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(d(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,d(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return d(i,"constructor",o.prototype=u),d(u,"constructor",o),d(u,n,o.displayName="GeneratorFunction"),d(i),d(i,n,"Generator"),d(i,r,function(){return this}),d(i,"toString",function(){return"[object Generator]"}),(rt=function(){return{w:e,m:a}})()}function d(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(d=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){d(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function nt(t,r){this.v=t,this.k=r}function et(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function n(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){et(e,r,n,o,u,"next",t)}function u(t){et(e,r,n,o,u,"throw",t)}o(void 0)})}}var ot=(()=>{var r=n(s().mark(function t(r){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT * FROM `slayt` WHERE tur = ? ORDER BY sira ASC ",[r]);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}));return function(t){return r.apply(this,arguments)}})(),f=(()=>{var t=n(s().mark(function t(){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT * FROM `kategori` WHERE parents  IS NULL ORDER BY name ASC");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})(),ut=(()=>{var t=n(s().mark(function t(){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT * FROM `urun`  ORDER BY name ASC LIMIT 20");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})(),it=(()=>{var t=n(s().mark(function t(){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT * FROM `urun`  ORDER BY name ASC LIMIT 20");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})(),at=(()=>{var t=n(s().mark(function t(){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT * FROM `urun`  ORDER BY name ASC LIMIT 20");case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})(),ct=(()=>{var r=n(s().mark(function t(r){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT name,url FROM `kategori` WHERE id IN ?",[[r]]);case 2:return n=t.sent,t.abrupt("return",n.map(function(t,r){t=$({},t);return r==n.length-1?t.last=1:t.last=0,t}));case 4:case"end":return t.stop()}},t)}));return function(t){return r.apply(this,arguments)}})(),st=(()=>{var r=n(s().mark(function t(r){var n,e,o,u,i,a,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("START TRANSACTION");case 2:return t.next=4,y.Query("SELECT id,parents FROM `kategori` WHERE url = ?",[r]);case 4:return e=t.sent,e=e[0],n=e.id,o=[],o=(e=e.parents)?[].concat(K(JSON.parse(e)),[n]):[n],t.next=10,y.Query("SELECT * FROM `urun` WHERE JSON_CONTAINS(parents,?,'$')",[n]);case 10:return u=t.sent,i=o.length,t.next=14,y.Query("SELECT * FROM `kategori` WHERE JSON_CONTAINS(JSON_EXTRACT(parents,'$[?]'),?,'$') AND JSON_LENGTH(parents, '$') = ?",[i-1,n,i]);case 14:if(0==(a=t.sent).length)return t.next=18,y.Query("SELECT * FROM `kategori` WHERE JSON_CONTAINS(JSON_EXTRACT(parents,'$[?]'),?,'$') AND JSON_LENGTH(parents, '$') = ?",[i-2,o[o.length-2],i-1]);t.next=19;break;case 18:a=t.sent;case 19:return t.next=21,ct(o);case 21:return c=t.sent,t.next=24,y.Query("COMMIT");case 24:return t.abrupt("return",{urunler:u,altKategoriler:a,breadcrumbs:c});case 25:case"end":return t.stop()}},t)}));return function(t){return r.apply(this,arguments)}})(),ft=(()=>{var r=n(s().mark(function t(r){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.Query("SELECT * FROM `urun`  WHERE url = ?",[r]);case 2:return n=t.sent,t.abrupt("return",n[0]);case 4:case"end":return t.stop()}},t)}));return function(t){return r.apply(this,arguments)}})();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t){return(t=>{if(Array.isArray(t))return pt(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||((t,r)=>{var n;if(t)return"string"==typeof t?pt(t,r):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(t,r):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function pt(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function l(){var o=dt(),t=o.m(l),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,yt(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(l=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new gt(t,r)},AsyncIterator:ht,async:function(t,r,n,e,o){return(u(r)?bt:mt)(i(t),r,n,e,o)},keys:vt,values:yt}})()}function yt(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(i(t)+" is not iterable")}function vt(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function mt(t,r,n,e,o){var u=bt(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function bt(t,r,n,e,o){return new ht(dt().w(t,r,n,e),o||Promise)}function ht(a,c){var o;this.next||(g(ht.prototype),g(ht.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),g(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof gt?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function dt(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return g(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(g(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,g(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return g(i,"constructor",o.prototype=u),g(u,"constructor",o),g(u,n,o.displayName="GeneratorFunction"),g(i),g(i,n,"Generator"),g(i,r,function(){return this}),g(i,"toString",function(){return"[object Generator]"}),(dt=function(){return{w:e,m:a}})()}function g(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(g=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){g(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function gt(t,r){this.v=t,this.k=r}function wt(r,t){var n,e=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)),e}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(o),!0).forEach(function(t){var r,n;r=e,n=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);if("object"!=i(n=n.call(t,r||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==i(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):wt(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function Ot(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function St(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){Ot(e,r,n,o,u,"next",t)}function u(t){Ot(e,r,n,o,u,"throw",t)}o(void 0)})}}var jt=(()=>{var t=St(l().mark(function t(){var r,n,e,o,u,i,a;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot("homeleft");case 2:return r=t.sent,t.next=5,ot("homeright");case 5:return e=t.sent,n=r.map(function(t){return t.img_url}),e=e.map(function(t){return t.img_url}),t.next=10,f();case 10:return o=t.sent,t.next=13,ut();case 13:return u=(u=t.sent).map(function(t){var r=t.resimler?JSON.parse(t.resimler):[],t=v(v({},t),{},{resimler:r});return t.img_on=0<t.resimler.length?"/uploads"+t.resimler[0]:"/assets/urun/resim_yok.webp",t.img_arka=1<t.resimler.length?"/uploads"+t.resimler[1]:"/assets/urun/resim_yok.webp",t}),t.next=17,it();case 17:return i=(i=t.sent).map(function(t){var r=t.resimler?JSON.parse(t.resimler):[],t=v(v({},t),{},{resimler:r});return t.img_on=0<t.resimler.length?"/uploads"+t.resimler[0]:"/assets/urun/resim_yok.webp",t.img_arka=1<t.resimler.length?"/uploads"+t.resimler[1]:"/assets/urun/resim_yok.webp",t}),t.next=21,at();case 21:return a=(a=t.sent).map(function(t){var r=t.resimler?JSON.parse(t.resimler):[],t=v(v({},t),{},{resimler:r});return t.img_on=0<t.resimler.length?"/uploads"+t.resimler[0]:"/assets/urun/resim_yok.webp",t.img_arka=1<t.resimler.length?"/uploads"+t.resimler[1]:"/assets/urun/resim_yok.webp",t}),t.abrupt("return",{enyeniler:a,coksatanlar:i,onecikanlar:u,imagesBg:n,imagesSm:e,mainMenus:o});case 24:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})(),L=(()=>{var n=St(l().mark(function t(r,n){var e,o,u,i,a,c;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jt();case 2:c=t.sent,e=c.enyeniler,o=c.coksatanlar,u=c.onecikanlar,i=c.imagesBg,a=c.imagesSm,c=c.mainMenus,n.render("pages/website/home/main.hbs",{title:"Anasayfa",scriptname:"main",scripts:'<script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>',imagesBg:lt(i),imagesSm:lt(a),dizi:[0,1,2,3,4,5,6,7,8,9],menus:lt(c),onecikanlar:u,coksatanlar:o,enyeniler:e});case 10:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})();let m=require("node:path");function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(){var o=It(),t=o.m(kt),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,Et(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(kt=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new Gt(t,r)},AsyncIterator:Nt,async:function(t,r,n,e,o){return(u(r)?Tt:_t)(i(t),r,n,e,o)},keys:Pt,values:Et}})()}function Et(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(xt(t)+" is not iterable")}function Pt(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function _t(t,r,n,e,o){var u=Tt(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function Tt(t,r,n,e,o){return new Nt(It().w(t,r,n,e),o||Promise)}function Nt(a,c){var o;this.next||(w(Nt.prototype),w(Nt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),w(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof Gt?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function It(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return w(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(w(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,w(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return w(i,"constructor",o.prototype=u),w(u,"constructor",o),w(u,n,o.displayName="GeneratorFunction"),w(i),w(i,n,"Generator"),w(i,r,function(){return this}),w(i,"toString",function(){return"[object Generator]"}),(It=function(){return{w:e,m:a}})()}function w(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(w=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){w(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function Gt(t,r){this.v=t,this.k=r}function Rt(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}var e=(()=>{a=kt().mark(function t(r,n){var e,o,u,i,a;return kt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:e=t.sent,o=(0,m.join)(process.cwd(),"/views/pages/website/kurumsal"),u="Not Found",a=i="","/hakkimizda"===r.path?(u=(0,c.readFileSync)((0,m.join)(o,"hakkimizda.hbs")),i="hakkimizda",a="Hakkımızda"):"/iletisim"===r.path?(u=(0,c.readFileSync)((0,m.join)(o,"iletisim.hbs")),i="iletisim",a="İletişim"):"/mesafeli-satis-sozlesmesi"===r.path?(u=(0,c.readFileSync)((0,m.join)(o,"mesafeli-satis-sozlesmesi.hbs")),i="mesafeli-satis-sozlesmesi",a="Mesafeli Satış Sözleşmesi"):"/siparis-takip"===r.path?(u=(0,c.readFileSync)((0,m.join)(o,"siparis-takip.hbs")),i="siparis-takip",a="Sipariş Takip"):"/havale-bildirimleri"===r.path&&(u=(0,c.readFileSync)((0,m.join)(o,"havale-bildirimleri.hbs")),i="havale-bildirimleri",a="Havale Bildirimleri"),n.render("pages/website/kurumsal/main.hbs",{title:"Kurumsal",scriptname:"main",scripts:'<script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>',temp:u,pagename:a,pageurl:i,menus:e});case 9:case"end":return t.stop()}},t)});var a,n=function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){Rt(e,r,n,o,u,"next",t)}function u(t){Rt(e,r,n,o,u,"throw",t)}o(void 0)})};return function(t,r){return n.apply(this,arguments)}})();function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(){var o=Qt(),t=o.m(At),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,Ft(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(At=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new qt(t,r)},AsyncIterator:Lt,async:function(t,r,n,e,o){return(u(r)?Dt:Ct)(i(t),r,n,e,o)},keys:Mt,values:Ft}})()}function Ft(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(a(t)+" is not iterable")}function Mt(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Ct(t,r,n,e,o){var u=Dt(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function Dt(t,r,n,e,o){return new Lt(Qt().w(t,r,n,e),o||Promise)}function Lt(a,c){var o;this.next||(O(Lt.prototype),O(Lt.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),O(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof qt?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function Qt(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return O(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(O(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,O(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return O(i,"constructor",o.prototype=u),O(u,"constructor",o),O(u,n,o.displayName="GeneratorFunction"),O(i),O(i,n,"Generator"),O(i,r,function(){return this}),O(i,"toString",function(){return"[object Generator]"}),(Qt=function(){return{w:e,m:a}})()}function O(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(O=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){O(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function qt(t,r){this.v=t,this.k=r}function Ht(t){return(t=>{if(Array.isArray(t))return Jt(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||((t,r)=>{var n;if(t)return"string"==typeof t?Jt(t,r):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(t,r):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Jt(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function Wt(r,t){var n,e=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)),e}function Yt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(o),!0).forEach(function(t){var r,n;r=e,n=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);if("object"!=a(n=n.call(t,r||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==a(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Wt(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function Kt(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}var zt=(()=>{a=At().mark(function t(r,n){var e,o,u,i,a;return At().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.params.urunurl,u=[],t.next=4,f();case 4:if(a=t.sent,e)return t.next=8,ft(e);t.next=20;break;case 8:return(o=t.sent).resimler=o.resimler&&JSON.parse(o.resimler),o.aciklama=o.aciklama&&JSON.parse(o.aciklama),o.garanti_aciklama=o.garanti_aciklama&&JSON.parse(o.garanti_aciklama),o.youmlar=o.youmlar&&JSON.parse(o.youmlar),u=JSON.parse(o.parents),t.next=16,ct(u);case 16:u=t.sent,i=u[u.length-1],(u=u.map(function(t,r){return Yt(Yt({},t),{},{last:r+1})})).push({name:o.name,url:"/urun/"+o.url,last:0});case 20:n.render("pages/website/urun.hbs",{title:"Ürün",scriptname:"main",scripts:'<script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>',urun:o,breadcrumbs:u,lastkategori:i,menus:Ht(a)});case 21:case"end":return t.stop()}},t)});var a,n=function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){Kt(e,r,n,o,u,"next",t)}function u(t){Kt(e,r,n,o,u,"throw",t)}o(void 0)})};return function(t,r){return n.apply(this,arguments)}})();function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t){return(t=>{if(Array.isArray(t))return Ut(t)})(t)||(t=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})(t)||((t,r)=>{var n;if(t)return"string"==typeof t?Ut(t,r):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,r):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function Ut(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=Array(r);n<r;n++)e[n]=t[n];return e}function Xt(r,t){var n,e=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)),e}function Vt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(o),!0).forEach(function(t){var r,n;r=e,n=o[t=t],(t=(t=>(t=((t,r)=>{if("object"!=Bt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);if("object"!=Bt(n=n.call(t,r||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")})(t,"string"),"symbol"==Bt(t)?t:t+""))(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Xt(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function b(){var o=or(),t=o.m(b),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,Zt(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(b=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new ur(t,r)},AsyncIterator:er,async:function(t,r,n,e,o){return(u(r)?nr:rr)(i(t),r,n,e,o)},keys:tr,values:Zt}})()}function Zt(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(Bt(t)+" is not iterable")}function tr(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function rr(t,r,n,e,o){var u=nr(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function nr(t,r,n,e,o){return new er(or().w(t,r,n,e),o||Promise)}function er(a,c){var o;this.next||(S(er.prototype),S(er.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),S(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof ur?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function or(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return S(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(S(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,S(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return S(i,"constructor",o.prototype=u),S(u,"constructor",o),S(u,n,o.displayName="GeneratorFunction"),S(i),S(i,n,"Generator"),S(i,r,function(){return this}),S(i,"toString",function(){return"[object Generator]"}),(or=function(){return{w:e,m:a}})()}function S(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(S=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){S(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function ur(t,r){this.v=t,this.k=r}function ir(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function ar(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){ir(e,r,n,o,u,"next",t)}function u(t){ir(e,r,n,o,u,"throw",t)}o(void 0)})}}var cr=(()=>{var t=ar(b().mark(function t(){var r;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})(),sr=(()=>{var n=ar(b().mark(function t(r,n){var e,o,u,i;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cr();case 2:return e=t.sent,t.next=5,st(r.path);case 5:i=t.sent,o=i.urunler,u=i.altKategoriler,i=i.breadcrumbs,o=o.map(function(t){return t.resimler=JSON.parse(t.resimler),Vt(Vt({},t),{},{resim_on:t.resimler&&0<t.resimler.length?"/uploads"+t.resimler[0]:"/assets/urun/resim_yok.webp",resim_arka:t.resimler&&1<t.resimler.length?"/uploads"+t.resimler[1]:"/assets/urun/resim_yok.webp"})}),n.render("pages/website/kategori.hbs",{title:"Kategori",scriptname:"main",scripts:'<script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>',urunler:o||[],altKategoriler:u||[],menus:$t(e),breadcrumbs:i,dizi1:[0,1,2,3,4,5,6,7,8,9]});case 11:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})();function fr(t){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(){var o=hr(),t=o.m(lr),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,pr(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(lr=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new dr(t,r)},AsyncIterator:br,async:function(t,r,n,e,o){return(u(r)?mr:vr)(i(t),r,n,e,o)},keys:yr,values:pr}})()}function pr(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(fr(t)+" is not iterable")}function yr(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function vr(t,r,n,e,o){var u=mr(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function mr(t,r,n,e,o){return new br(hr().w(t,r,n,e),o||Promise)}function br(a,c){var o;this.next||(j(br.prototype),j(br.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),j(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof dr?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function hr(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return j(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(j(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,j(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return j(i,"constructor",o.prototype=u),j(u,"constructor",o),j(u,n,o.displayName="GeneratorFunction"),j(i),j(i,n,"Generator"),j(i,r,function(){return this}),j(i,"toString",function(){return"[object Generator]"}),(hr=function(){return{w:e,m:a}})()}function j(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(j=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){j(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function dr(t,r){this.v=t,this.k=r}function gr(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}var wr=(()=>{a=lr().mark(function t(r,n){var e;return lr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:e=t.sent,n.render("pages/website/sepet/main.hbs",{title:"Sepet",scriptname:"main",scripts:'<script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>',menus:e});case 4:case"end":return t.stop()}},t)});var a,n=function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){gr(e,r,n,o,u,"next",t)}function u(t){gr(e,r,n,o,u,"throw",t)}o(void 0)})};return function(t,r){return n.apply(this,arguments)}})();function Or(t){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Sr=["id"],jr=["id"];function xr(t,r){if(null==t)return{};var n,e=((t,r)=>{if(null==t)return{};var n,e={};for(n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==r.indexOf(n))continue;e[n]=t[n]}return e})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),u=0;u<o.length;u++)n=o[u],-1===r.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(e[n]=t[n]);return e}function h(){var o=Nr(),t=o.m(h),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,kr(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(h=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new Ir(t,r)},AsyncIterator:Tr,async:function(t,r,n,e,o){return(u(r)?_r:Pr)(i(t),r,n,e,o)},keys:Er,values:kr}})()}function kr(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(Or(t)+" is not iterable")}function Er(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Pr(t,r,n,e,o){var u=_r(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function _r(t,r,n,e,o){return new Tr(Nr().w(t,r,n,e),o||Promise)}function Tr(a,c){var o;this.next||(x(Tr.prototype),x(Tr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),x(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof Ir?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function Nr(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return x(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(x(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,x(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return x(i,"constructor",o.prototype=u),x(u,"constructor",o),x(u,n,o.displayName="GeneratorFunction"),x(i),x(i,n,"Generator"),x(i,r,function(){return this}),x(i,"toString",function(){return"[object Generator]"}),(Nr=function(){return{w:e,m:a}})()}function x(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(x=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){x(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function Ir(t,r){this.v=t,this.k=r}function Gr(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function o(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){Gr(e,r,n,o,u,"next",t)}function u(t){Gr(e,r,n,o,u,"throw",t)}o(void 0)})}}var k=r.Router({mergeParams:!0}),Rr=(()=>{var r=o(h().mark(function t(r){return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return k.post("/ctrlpanel/kategori/add-item",(()=>{var n=o(h().mark(function t(r,n){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.Query("INSERT INTO `kategori` SET ?",[e]);case 5:return t.sent,t.abrupt("return",n.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/kategori/update-item",(()=>{var n=o(h().mark(function t(r,n){var e,o,u;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,(u=xr(e,Sr)).parents=u.parents?JSON.stringify(u.parents):null,t.next=7,y.Query("UPDATE `kategori` SET ? where id = "+o,[u]);case 7:return t.sent,t.abrupt("return",n.json({msg:"Ok!"}));case 9:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/kategori/get-all-items",(()=>{var n=o(h().mark(function t(r,n){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.body){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.Query("SELECT * FROM `kategori`");case 5:return e=t.sent,t.abrupt("return",n.json(e));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/kategori/delete-items",(()=>{var n=o(h().mark(function t(r,n){var e,o,u,i;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.ids,t.next=6,y.Query("START TRANSACTION");case 6:u=0;case 7:if(u<o.length)return i=o[u],t.next=11,y.Query("DELETE FROM `kategori` WHERE id = "+i);t.next=14;break;case 11:u++,t.next=7;break;case 14:return t.next=16,y.Query("COMMIT");case 16:return t.abrupt("return",n.json({msg:"OK!"}));case 17:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/add-urun",(()=>{var n=o(h().mark(function t(r,n){var e;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.Query("INSERT INTO `urun` SET ?",[e]);case 5:return t.abrupt("return",n.json({msg:"OK!"}));case 6:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/update-urun",(()=>{var n=o(h().mark(function t(r,n){var e,o,u;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,u=xr(e,jr),t.next=6,y.Query("UPDATE `urun` SET ? WHERE id ="+o,[u]);case 6:return t.abrupt("return",n.json({msg:"OK!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/delete-urun-from-kategori",(()=>{var n=o(h().mark(function t(r,n){var e,o,u,i,a,c,s,f,l;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.ids,t.next=6,y.Query("START TRANSACTION");case 6:return t.next=8,y.Query("SELECT id,resimler FROM `urun` WHERE JSON_CONTAINS(parents,?,'$')",[[o]]);case 8:u=t.sent,i=0;case 10:if(!(i<u.length)){t.next=19;break}for(a=u[i].id,c=u[i].resimler?JSON.parse(u[i].resimler):[],s=0;s<c.length;s++)f="/uploads"+c[s],l=f.split("/").pop(),f=f.replace(l,""),l=process.cwd()+"/public"+f,(0,p.existsSync)(l)&&(0,p.rmdirSync)(l,{recursive:!0});return t.next=16,y.Query("DELETE FROM `urun` WHERE id = "+a);case 16:i++,t.next=10;break;case 19:return t.next=21,y.Query("COMMIT");case 21:return t.abrupt("return",n.json({msg:"OK!"}));case 22:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/delete-urun",(()=>{var n=o(h().mark(function t(r,n){var e,o;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,t.next=6,y.Query("DELETE FROM `urun` WHERE id ="+o);case 6:return t.abrupt("return",n.json({msg:"OK!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/get-urunler",(()=>{var n=o(h().mark(function t(r,n){var e,o;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=(o=e.kategori_ids).replace(/[\[\]]/g,""),t.next=7,y.Query("SELECT * FROM `urun` WHERE `parents` LIKE  '%"+o+"%'");case 7:return o=t.sent,t.abrupt("return",n.json(o));case 9:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/get-urun-resimler",(()=>{var n=o(h().mark(function t(r,n){var e,o;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,t.next=6,y.Query("SELECT resimler FROM `urun` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",n.json(o[0].resimler));case 8:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),k.post("/ctrlpanel/urun/get-urun",(()=>{var n=o(h().mark(function t(r,n){var e,o;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,t.next=6,y.Query("SELECT * FROM `urun` WHERE id = ?",[o]);case 6:return o=t.sent,t.abrupt("return",n.json(o[0]));case 8:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),t.abrupt("return",r.use("/",k));case 12:case"end":return t.stop()}},t)}));return function(t){return r.apply(this,arguments)}})();function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Fr=["id"];function Mr(t,r){if(null==t)return{};var n,e=((t,r)=>{if(null==t)return{};var n,e={};for(n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==r.indexOf(n))continue;e[n]=t[n]}return e})(t,r);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),u=0;u<o.length;u++)n=o[u],-1===r.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(e[n]=t[n]);return e}function E(){var o=Hr(),t=o.m(E),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,Cr(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(E=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new Jr(t,r)},AsyncIterator:qr,async:function(t,r,n,e,o){return(u(r)?Qr:Lr)(i(t),r,n,e,o)},keys:Dr,values:Cr}})()}function Cr(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(Ar(t)+" is not iterable")}function Dr(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Lr(t,r,n,e,o){var u=Qr(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function Qr(t,r,n,e,o){return new qr(Hr().w(t,r,n,e),o||Promise)}function qr(a,c){var o;this.next||(P(qr.prototype),P(qr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),P(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof Jr?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function Hr(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return P(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(P(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,P(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return P(i,"constructor",o.prototype=u),P(u,"constructor",o),P(u,n,o.displayName="GeneratorFunction"),P(i),P(i,n,"Generator"),P(i,r,function(){return this}),P(i,"toString",function(){return"[object Generator]"}),(Hr=function(){return{w:e,m:a}})()}function P(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(P=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){P(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function Jr(t,r){this.v=t,this.k=r}function Wr(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function Yr(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){Wr(e,r,n,o,u,"next",t)}function u(t){Wr(e,r,n,o,u,"throw",t)}o(void 0)})}}var Kr=r.Router({mergeParams:!0}),zr=function(t){return Kr.post("/ctrlpanel/slaytlar/add-item",(()=>{var n=Yr(E().mark(function t(r,n){var e;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,y.Query("INSERT INTO `slayt` SET ?",[e]);case 5:return t.sent,t.abrupt("return",n.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),Kr.post("/ctrlpanel/slaytlar/delete-item",(()=>{var n=Yr(E().mark(function t(r,n){var e,o;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,t.next=6,y.Query("DELETE FROM `slayt` WHERE id ="+o);case 6:return t.abrupt("return",n.json({msg:"OK!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),Kr.post("/ctrlpanel/slaytlar/get-items",(()=>{var n=Yr(E().mark(function t(r,n){var e,o;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.tur,t.next=6,y.Query("SELECT * FROM `slayt` WHERE tur = ? ORDER BY sira ASC ",[o]);case 6:return o=t.sent,t.abrupt("return",n.json(o));case 8:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),Kr.post("/ctrlpanel/slaytlar/update-item",(()=>{var n=Yr(E().mark(function t(r,n){var e,o,u;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,u=Mr(e,Fr),t.next=6,y.Query("UPDATE `slayt` SET ?  WHERE id = "+o,[u]);case 6:return t.abrupt("return",n.json({msg:"Ok!"}));case 7:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),t.use("/",Kr)};function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){var o=tn(),t=o.m(_),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,$r(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(_=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new rn(t,r)},AsyncIterator:Zr,async:function(t,r,n,e,o){return(u(r)?Vr:Xr)(i(t),r,n,e,o)},keys:Ur,values:$r}})()}function $r(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(Br(t)+" is not iterable")}function Ur(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Xr(t,r,n,e,o){var u=Vr(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function Vr(t,r,n,e,o){return new Zr(tn().w(t,r,n,e),o||Promise)}function Zr(a,c){var o;this.next||(T(Zr.prototype),T(Zr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),T(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof rn?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function tn(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return T(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(T(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,T(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return T(i,"constructor",o.prototype=u),T(u,"constructor",o),T(u,n,o.displayName="GeneratorFunction"),T(i),T(i,n,"Generator"),T(i,r,function(){return this}),T(i,"toString",function(){return"[object Generator]"}),(tn=function(){return{w:e,m:a}})()}function T(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(T=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){T(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function rn(t,r){this.v=t,this.k=r}function nn(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function en(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){nn(e,r,n,o,u,"next",t)}function u(t){nn(e,r,n,o,u,"throw",t)}o(void 0)})}}var on=(()=>{var n=en(_().mark(function t(r,n){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.render("pages/ctrlpanel/dashboard.hbs",{title:"Anasayfa",scriptname:"ctrlpanel-main",scripts:'<script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>'});case 1:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})(),un=(()=>{var n=en(_().mark(function t(r,n){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.render("pages/ctrlpanel/urun.hbs",{title:"Ürünler",scriptname:"ctrlpanel-main",styles:'<link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css"> <link\n  href="https://cdn.jsdelivr.net/npm/quill@2/dist/quill.snow.css"\n  rel="stylesheet"\n/>\n<link\n  href="https://cdn.jsdelivr.net/npm/quill@2/dist/quill.bubble.css"\n  rel="stylesheet"\n/>',scripts:'  <script defer src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"><\/script> \n    <script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script> \n    <script defer src="https://cdn.jsdelivr.net/npm/quill@2/dist/quill.js"><\/script>'});case 1:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})(),an=(()=>{var n=en(_().mark(function t(r,n){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.render("pages/ctrlpanel/slaytlar.hbs",{title:"Slaytlar",scriptname:"ctrlpanel-main",styles:'<link rel="stylesheet" href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css">',scripts:'  <script defer src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"><\/script> \n    <script defer src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"><\/script>'});case 1:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})();function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(){var o=vn(),t=o.m(N),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,sn(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(N=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new mn(t,r)},AsyncIterator:yn,async:function(t,r,n,e,o){return(u(r)?pn:ln)(i(t),r,n,e,o)},keys:fn,values:sn}})()}function sn(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(cn(t)+" is not iterable")}function fn(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function ln(t,r,n,e,o){var u=pn(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})}function pn(t,r,n,e,o){return new yn(vn().w(t,r,n,e),o||Promise)}function yn(a,c){var o;this.next||(I(yn.prototype),I(yn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),I(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof mn?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function vn(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return I(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(I(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,I(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return I(i,"constructor",o.prototype=u),I(u,"constructor",o),I(u,n,o.displayName="GeneratorFunction"),I(i),I(i,n,"Generator"),I(i,r,function(){return this}),I(i,"toString",function(){return"[object Generator]"}),(vn=function(){return{w:e,m:a}})()}function I(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(I=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){I(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function mn(t,r){this.v=t,this.k=r}function bn(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}function hn(a){return function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){bn(e,r,n,o,u,"next",t)}function u(t){bn(e,r,n,o,u,"throw",t)}o(void 0)})}}function dn(t){G.post("/get-menu",(()=>{var n=hn(N().mark(function t(r,n){var e,o,u,i;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.id,u=e.parent_length,i=u-1,t.next=7,y.Query("SELECT * FROM `kategori` WHERE JSON_CONTAINS(JSON_EXTRACT(parents,'$[?]'),?,'$') AND JSON_LENGTH(parents, '$') = ?",[i,o,u]);case 7:return i=t.sent,t.abrupt("return",n.json(i));case 9:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),t.use("/",G)}function gn(t){G.get("/sepet*",wr),G.post("/sepet/get-urunler",(()=>{var n=hn(N().mark(function t(r,n){var e,o;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.ids,t.next=6,y.Query("SELECT * FROM `urun`  WHERE id IN ?",[[o]]);case 6:return o=t.sent,t.abrupt("return",n.json(o));case 8:case"end":return t.stop()}},t)}));return function(t,r){return n.apply(this,arguments)}})()),G.get("/sepet",function(t,r){return r.redirect("/sepet/")}),t.use("/",G)}var G=r.Router({mergeParams:!0});function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(){var o=En(),t=o.m(On),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function u(t){t="function"==typeof t&&t.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))}var n={throw:1,return:2,break:3,continue:3};function i(t){var o,u;return function(e){o||(o={stop:function(){return u(e.a,2)},catch:function(){return e.v},abrupt:function(t,r){return u(e.a,n[t],r)},delegateYield:function(t,r,n){return o.resultName=r,u(e.d,Sn(t),n)},finish:function(t){return u(e.f,t)}},u=function(t,r,n){e.p=o.prev,e.n=o.next;try{return t(r,n)}finally{o.next=e.n}}),o.resultName&&(o[o.resultName]=e.v,o.resultName=void 0),o.sent=e.v,o.next=e.n;try{return t.call(this,o)}finally{e.p=o.prev,e.n=o.next}}}return(On=function(){return{wrap:function(t,r,n,e){return o.w(i(t),r,n,e&&e.reverse())},isGeneratorFunction:u,mark:o.m,awrap:function(t,r){return new Pn(t,r)},AsyncIterator:kn,async:function(t,r,n,e,o){return(u(r)?xn:function(t,r,n,e,o){var u=xn(t,r,n,e,o);return u.next().then(function(t){return t.done?t.value:u.next()})})(i(t),r,n,e,o)},keys:jn,values:Sn}})()}function Sn(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}throw new TypeError(wn(t)+" is not iterable")}function jn(t){var r,n=Object(t),e=[];for(r in n)e.unshift(r);return function t(){for(;e.length;)if((r=e.pop())in n)return t.value=r,t.done=!1,t;return t.done=!0,t}}function xn(t,r,n,e,o){return new kn(En().w(t,r,n,e),o||Promise)}function kn(a,c){var o;this.next||(R(kn.prototype),R(kn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),R(this,"_invoke",function(n,t,e){function r(){return new c(function(t,r){!function r(t,n,e,o){try{var u=a[t](n),i=u.value;return i instanceof Pn?c.resolve(i.v).then(function(t){r("next",t,e,o)},function(t){r("throw",t,e,o)}):c.resolve(i).then(function(t){u.value=t,e(u)},function(t){return r("throw",t,e,o)})}catch(t){o(t)}}(n,e,t,r)})}return o=o?o.then(r,r):r()},!0)}function En(){var v,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function e(t,r,n,e){var o,u,i,a,c,s,f,l,p,r=r&&r.prototype instanceof b?r:b,r=Object.create(r.prototype);return R(r,"_invoke",(o=t,u=n,f=e||[],l=!1,p={p:s=0,n:0,v:v,a:y,f:y.bind(v,4),d:function(t,r){return i=t,a=0,c=v,p.n=r,m}},function(t,r,n){if(1<s)throw TypeError("Generator is already running");for(l&&1===r&&y(r,n),a=r,c=n;(h=a<2?v:c)||!l;){i||(a?a<3?(1<a&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(h=i[t=a?t:"next"]){if(!(h=h.call(i,c)))throw TypeError("iterator result is not an object");if(!h.done)return h;c=h.value,a<2&&(a=0)}else 1===a&&(h=i.return)&&h.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+t+"' method"),a=1);i=v}else if((h=(l=p.n<0)?c:o.call(u,p))!==m)break}catch(t){i=v,a=1,c=t}finally{s=1}}return{value:h,done:l}}),!0),r;function y(t,r){for(a=t,c=r,h=0;!l&&s&&!n&&h<f.length;h++){var n,e=f[h],o=p.p,u=e[2];3<t?(n=u===r)&&(c=e[(a=e[4])?5:a=3],e[4]=e[5]=v):e[0]<=o&&((n=t<2&&o<e[1])?(a=0,p.v=r,p.n=e[1]):o<u&&(n=t<3||e[0]>r||u<r)&&(e[4]=t,e[5]=r,p.n=u,a=0))}if(n||1<t)return m;throw l=!0,r}}var m={};function b(){}function o(){}function u(){}var h=Object.getPrototypeOf,t=[][r]?h(h([][r]())):(R(h={},r,function(){return this}),h),i=u.prototype=b.prototype=Object.create(t);function a(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,R(t,n,"GeneratorFunction")),t.prototype=Object.create(i),t}return R(i,"constructor",o.prototype=u),R(u,"constructor",o),R(u,n,o.displayName="GeneratorFunction"),R(i),R(i,n,"Generator"),R(i,r,function(){return this}),R(i,"toString",function(){return"[object Generator]"}),(En=function(){return{w:e,m:a}})()}function R(t,r,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}(R=function(t,r,n,e){r?o?o(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e}):t[r]=n:((e=function(r,n){R(t,r,function(t){return this._invoke(r,n,t)})})("next",0),e("throw",1),e("return",2))})(t,r,n,e)}function Pn(t,r){this.v=t,this.k=r}function _n(t,r,n,e,o,u,i){try{var a=t[u](i),c=a.value}catch(t){return n(t)}a.done?r(c):Promise.resolve(c).then(e,o)}var Tn=r.Router({mergeParams:!0}),Nn=require("body-parser"),In=require("method-override"),A=require("cookie-parser"),Gn=require("express-session"),Rn=require("passport"),F=require("compression"),t=((0,t.config)({path:["const.env"]}),r()),An=process.env.PORT||3e3;t.use(F()),t.use(A("secret")),t.use(Gn({secret:"secret",resave:!0,saveUninitialized:!1,cookie:{maxAge:864e5}})),t.engine(".hbs",(0,M.engine)({defaultLayout:"main",extname:".hbs",layoutsDir:"views/layouts",partialsDir:["views/partials"],helpers:{calc:function(t){return t+7},list:function(t,r,n){return"<h3>"+n.fn({test:t,test1:r,label:"custom Helper List"})},IsEq:function(t,r,n){return t===r?n.fn(this):n.inverse(this)},BiggerThan:function(t,r){return 0<t.length?r.fn(this):r.inverse(this)},LessThan:function(t,r){return t.length<=0?r.fn(this):r.inverse(this)},Inc:function(t,r){return parseInt(t)+1},Json:function(t,r){return JSON.stringify(t)}}})),t.set("view engine",".hbs"),t.set("views","".concat(process.cwd(),"/views")),t.use(r.static("public")),t.use(Nn.urlencoded({limit:"50mb",extended:!0})),t.use(Nn.json({limit:"50mb"})),t.use(In("_method")),t.use(Rn.initialize()),t.use(Rn.session()),A=F=t,D.post("/stat/fileupload",C.single("file"),function(t,r){r.status(200).json({msg:"Ok!"})}),D.post("/stat/filedelete",function(t,r){return t.body?(t=t.body.filepath,t=process.cwd()+"/public"+t,(0,p.existsSync)(t)&&(0,p.unlinkSync)(t),r.json({msg:"Kaldırıldı"})):r.json({msg:"Data Not found"})}),D.post("/stat/folderdelete",function(t,r){var n;return t.body?(t=t.body.folderpath,t=process.cwd()+"/public"+t,console.log(t),(n=(0,p.existsSync)(t))&&(console.log("isExist:",n),(0,p.rmdirSync)(t,{recursive:!0})),r.json({msg:"Kaldırıldı"})):r.json({msg:"Data Not found"})}),A.use("/",D),A=F,G.get("/",L),A.use("/",G),A=F,G.get("/hakkimizda",e),G.get("/iletisim",e),G.get("/kullanici-sozlesmesi",e),G.get("/mesafeli-satis-sozlesmesi",e),G.get("/siparis-takip",e),G.get("/havale-bildirimleri",e),A.use("/",G),A=F,G.get("/urun/:urunurl",zt),G.get("/urun",function(t,r){return r.redirect("/urun/")}),A.use("/",G),A=F,G.get("/kategori/*",sr),G.get("/kategori",function(t,r){return r.redirect("/kategori/")}),A.use("/",G),A=F,G.get("/ctrlpanel/",on),G.get("/ctrlpanel/urunler",un),G.get("/ctrlpanel/slaytlar",an),G.get("/ctrlpanel*",function(t,r){return r.redirect("/ctrlpanel/")}),Rr(A),zr(A),A.use("/",G),dn(F),gn(F),Tn.post("/templates/get-temp",(()=>{a=On().mark(function t(r,n){var e,o;return On().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.body){t.next=3;break}return t.abrupt("return");case 3:return o=e.folderpath,o=process.cwd()+"/public/templates/"+o,o=(0,c.readFileSync)(o,"utf-8"),n.set("Content-Type","text/plain"),t.abrupt("return",n.send(o));case 8:case"end":return t.stop()}},t)});var a,n=function(){var t=this,i=arguments;return new Promise(function(r,n){var e=a.apply(t,i);function o(t){_n(e,r,n,o,u,"next",t)}function u(t){_n(e,r,n,o,u,"throw",t)}o(void 0)})};return function(t,r){return n.apply(this,arguments)}})()),Tn.get("/*",function(t,r){r.render("pages/404.hbs",{title:"Kontrol Panel",scriptname:"main"})}),F.use("/",Tn),t.all("**",function(t,r){r.render("pages/404.hbs",{title:"Kontrol Panel",scriptname:"main"})}),t.listen(An,function(){console.log("Server is starting at ".concat(An))})})();